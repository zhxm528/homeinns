-- =====================================================================
-- 会员子订单表与订单每日详情表 (PostgreSQL)
-- 表名：public.MemberChildOrderRecord, public.MemberChildOrderRecordDailyRate
-- =====================================================================

DROP TABLE IF EXISTS public."MemberChildOrderRecordDailyRate" CASCADE;
DROP TABLE IF EXISTS public."MemberChildOrderRecord" CASCADE;

CREATE TABLE public."MemberChildOrderRecord" (
  "Id" integer GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "MemberName" varchar(60) NULL,
  "MemberSourceType" varchar(50) NULL,
  "IdNo" varchar(30) NULL,
  "Res_Account" varchar(100) NULL,
  "PMSOrderNo" varchar(100) NULL,
  "Res_Id" varchar(50) NULL,
  "ArrDate" timestamptz NULL,
  "DepDate" timestamptz NULL,
  "RoomNightNum" decimal(9, 2) NULL,
  "AgentCd" varchar(50) NULL,
  "PayType" varchar(50) NULL,
  "RoomCode" varchar(50) NULL,
  "RateCode" varchar(50) NULL,
  "RoomCost" decimal(9, 2) NULL,
  "RepastCost" decimal(9, 2) NULL,
  "OtherCost" decimal(9, 2) NULL,
  "TotalCost" decimal(9, 2) NULL,
  "Marketplace" varchar(255) NULL,
  "RoomNum" varchar(50) NULL,
  "Remark" varchar(255) NULL,
  "GuestsNum" integer NULL,
  "CreateDate" timestamptz NULL,
  "CreateBy" varchar(50) NULL,
  "IsDel" boolean NOT NULL DEFAULT false,
  "IsSend" boolean NOT NULL DEFAULT false,
  "FolioNo" varchar(50) NULL,
  "FolioType" varchar(50) NULL,
  "HotelCd" varchar(50) NULL,
  "Rooms" integer NULL,
  "Rate" decimal(9, 2) NULL,
  "MemberCardId" varchar(50) NULL,
  "MemberCardType" varchar(50) NULL,
  "MemberCardLevel" varchar(50) NULL,
  "SendCount" integer NOT NULL DEFAULT 0,
  "OperType" varchar(50) NULL,
  "OrderType" varchar(50) NULL,
  "Oper" varchar(50) NULL,
  "ParentOrderNo" varchar(100) NULL,
  "Src" varchar(100) NULL,
  "CyNo" varchar(50) NULL,
  "UpdateTime" timestamptz NULL,
  "cusno_des" varchar(500) NULL,
  "source_des" varchar(500) NULL,
  "agent_des" varchar(500) NULL,
  "cusno" varchar(200) NULL,
  "source_no" varchar(200) NULL,
  "agent" varchar(200) NULL,
  "sta" varchar(50) NULL,
  "cohabitantId" varchar(50) NULL,
  "rsvClass" varchar(5) NULL,
  "rsvDatetime" timestamptz NULL,
  "ThirdOrderNo" varchar(500) NULL,
  "uploadHyatt" varchar(20) NULL,
  "uploadHyattRemark" varchar(20) NULL,
  "RemarkTime" timestamptz NULL,
  "FirstName" varchar(50) NULL,
  "LastName" varchar(50) NULL
);

CREATE TABLE public."MemberChildOrderRecordDailyRate" (
  "Id" integer GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "OrderNo" varchar(50) NULL,
  "PMSOrderNo" varchar(50) NULL,
  "ParentOrderNo" varchar(50) NULL,
  "RoomCost" decimal(9, 2) NULL,
  "RepastCost" decimal(9, 2) NULL,
  "OtherCost" decimal(9, 2) NULL,
  "TotalCost" decimal(9, 2) NULL,
  "CreateName" varchar(50) NULL,
  "CreateDate" timestamptz NULL,
  "DailyDate" timestamptz NULL,
  "RoomNightNum" decimal(9, 2) NULL,
  "OrRoomNightNum" decimal(9, 2) NULL,
  "XFRoomCost" decimal(9, 2) NULL
);

CREATE TABLE public."View_StarOrderRoom_All" (
  "OrderNo" varchar(50) NOT NULL,
  "HotelCd" varchar(50) NOT NULL,
  "AgentCd" varchar(50) NULL,
  "ResvType" varchar(50) NULL,
  "HotelName" varchar(50) NULL,
  "ArrDate" timestamptz NULL,
  "DepDate" timestamptz NULL,
  "RoomTypeCode" varchar(50) NULL,
  "RoomTypeName" varchar(500) NULL,
  "RoomNum" integer NULL,
  "ActualRt" decimal(9, 2) NULL,
  "PayCd" varchar(50) NULL,
  "MemberType" varchar(50) NULL,
  "MemberNo" varchar(50) NULL,
  "ModiFlg" varchar(50) NULL,
  "GustNm" varchar(500) NULL,
  "MobileTel" varchar(50) NULL,
  "CRSResvDate" timestamptz NULL,
  "Note" varchar(1000) NULL,
  "EditDate" timestamptz NULL,
  "Opr" varchar(50) NULL,
  "TotalXf" decimal(9, 2) NULL,
  "RateCode" varchar(50) NULL,
  "CrsStatus" varchar(50) NULL,
  "MustPayMoney" decimal(9, 2) NULL,
  "IsPrepay" integer NULL,
  "ActCd" varchar(50) NULL,
  "AdultNum" integer NULL,
  "ChildNum" integer NULL,
  "ResStatus" varchar(20) NULL,
  "CrsOrderType" varchar(10) NULL,
  "Sex" boolean NULL,
  "Email" varchar(100) NULL,
  "ModifyOrderStatus" varchar(50) NULL,
  "MemberSource" varchar(50) NULL,
  "OldNote" varchar(1000) NULL,
  "Tunnel" varchar(50) NULL,
  "PayEnterpriseId" varchar(20) NULL,
  "PMSAccnt" varchar(50) NULL,
  "ThirdCouponNo" varchar(50) NULL,
  "Memo" varchar(200) NULL
);